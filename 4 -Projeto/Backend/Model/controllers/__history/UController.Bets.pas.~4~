unit UController.Bets;

interface

uses
  Horse, GBSwagger.Path.Attributes, UController.Base, UEntity.Users;

type

  [SwagPath('bets', 'Palpites')]
  TControllerBets = class(TControllerBase)
  private
  public

    [SwagGET('Listar Palpites', True)]
    [SwagResponse(200, TUser, 'Informações do Palpite', True)]
    [SwagResponse(404)]
    class procedure Gets(Req: THorseRequest; Res: THorseResponse;
      Next: TProc); virtual;

    [SwagGET('{id}', 'Procurar um Palpite')]
    [SwagParamPath('id', 'id do Time')]
    [SwagResponse(200, TUser, 'Informações do Palpite', True)]
    [SwagResponse(404)]
    class procedure Get(Req: THorseRequest; Res: THorseResponse;
      Next: TProc); virtual;

    [SwagPost('Adicionar novo Palpite')]
    [SwagParamBody('Informações do Palpite', TUser)]
    [SwagResponse(201)]
    [SwagResponse(400)]
    class procedure Post(Req: THorseRequest; Res: THorseResponse;
      Next: TProc); virtual;

    [SwagDELETE('{id}', 'Deletar um Palpite')]
    [SwagParamPath('id', 'id do Palpite')]
    [SwagResponse(204)]
    [SwagResponse(200)]
    [SwagResponse(404)]
    class procedure Delete(Req: THorseRequest; Res: THorseResponse;
      Next: TProc); virtual;
  end;

implementation

{ TControllerBets }

Uses
  UDAO.Intf, UDAO.Bets;

class procedure TControllerBets.Delete(Req: THorseRequest; Res: THorseResponse;
  Next: TProc);
begin
  FDAO := TDAOBets.Create;
  Inherited;
end;

class procedure TControllerBets.Get(Req: THorseRequest; Res: THorseResponse;
  Next: TProc);
begin
  FDAO := TDAOBets.Create;
  Inherited;
end;

class procedure TControllerBets.Gets(Req: THorseRequest; Res: THorseResponse;
  Next: TProc);
begin
  FDAO := TDAOBets.Create;
  Inherited;
end;

class procedure TControllerBets.Post(Req: THorseRequest; Res: THorseResponse;
  Next: TProc);
begin
  FDAO := TDAOBets.Create;
  Inherited;
end;

end.
